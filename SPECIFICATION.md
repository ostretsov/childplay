# API backend для мобильного приложения "Играем вместе".

API backend (APIb) предоставляет возможность родителям (Пользователи) 
регистристрировать аккаунты и указывать количество и возраст детей. 
APIb содержит банк заданий для детей разных возрастов. 
Каждый день или по требованию родителя APIb предлагает задание,
соответсвующее возрасту ребенка, его полу и времени года. 
Обязательным критерием выбора задания является только возраст ребенка 
(пол и время года опциональны).

### Иерархия Пользователей
* Администраторы.
* Публикаторы.
* Пользователи.

##### Пользователи
Просмотр заданий, формирование отчетов, рейтингование заданий и других отчетов 
сообщение о недопустимом контенте СНК.

##### Публикаторы
В дополнение к Пользователям могут создавать (пополнять) базу заданий.

##### Администраторы
Обладают всей полнотой прав в системе. 
Имеют полномочия назначать Пользователей публикаторами и отзывать эту роль.
Может блокировать Пользователей и Публикаторов.

### Регистрация Пользователя
При регистрации Пользователь должен указать:
* своё имя;
* пароль;
* детей (их имена и возраст);
* предпочитаемые языки заданий;
* текущий сезон (определяем полушарие пользователя).
Все данные пользователя кроме пароля можно изменить впоследствии.

### Задание 
Каждое задание содержит название, краткое описание (до 200 символов) описание, 
которое может включать чередующиеся блоки текста, Youtube-роликов и изображений (см. также "Контент").
Пользователь при выборе задания видит название, вводное описание, фото (опционально),
пользовательский рейтинг, количество пользователей, которые начали задание и
количество пользователей, закончивших задание, количество отчетов.
Пользователь может рейтинговать задание, но обязательным 
условием для этого является прохождение задания с публикацией отчета.

Возраст ребенка указывается в виде диапазона (7-12). 

##### Пример задания
* язык задания: русский
* описание: посмотреть первую серию "Свинки Пеппы".
* возраст: 2-5
* сезон: не имеет значения

### Добавление заданий
Может осуществляться Администратором или Публикатором.

### Поиск задания
Учитывается язык из профиля Пользователя.
По умолчанию предлагаются задания, максимально подходящие всем детям.
Пользователь об этом информируется.
Предоставляется возможность исключить одного или больше детей из критериев 
подбора заданий.
Сезон автоопределяется из настроек пользователя.
О сезонности задания Пользователь уведомляется иконкой (иконками).

### Прохождение задания (отчет)
По итогу выполниния задания пользователь может оставить отчет, видимый другим пользователям.
Отчет может состоять из текста, фото (см. также "Контент").
По итогу прохождения задания Пользователь может опубликовать свой отчет. 
Каждый опубликованный отчет приблавляет Пользователю рейтинг. 
Также каждый отчет может быть оценен другими Пользователями, 
которые также выполнили задание.
Такая оценка также увеличивает рейтинг Пользователя.

### Собощение о недопустимом контенте (СНК)
Так как Пользователи анонимно могут публиковать отчеты, то необходима возможность
их скрытия (с последующим отложенным удалением).
СНК может исходить от обычного Пользователя и касаться также задания. 
СНК могут формировать любые Пользователи системы.
За СНК, повлекшим скрытие и удаление отчета все сообщившие Пользователи 
премируются доп. очками рейтинга. 
СНК может включать сообщение (произвольный текст) от сообщившего.

### Рейтинг Пользователя
Рейтинг может быть только >= 0.
Чем больше пользователь выполняет заданий, тем вышего его рейтинг. 
Если Пользователь выполняет задания редко, то его рейтинг деградирует.

### Контент
Серия последовательных фотографий объединяется в единый блок "Галлерея" для
удобства навигации. 
Галлеря содержит главное фото (выбирает Пользователем из всех загруженных 
фотографий; по умолчанию первое фото).

### Типичный процесс использования APIb
* регистрация Пользователя;
* указание количества и возраст детей;
* поиск релевантных заданий;
* старт исполнения задания;
* завершение исполнения задания;
* публикация отчета (опционально);
* если Пользователь опубликовал отчет, то он также может поставить рейтинг заданию.

### Экран активных заданий
Все незавершенные задания видны на этом эране и можем их завершить (убрать из активных).